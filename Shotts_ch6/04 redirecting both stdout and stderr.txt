[Title Screen: Command Line Basics: Redirecting both standard output and standard error]

Let's take a look at command line basics: redirecting both standard output and standard error.

Standard output and standard error of a command can be redirected to one single file. This is useful if we wish to capture all of the output of a command.

To redirect both standard output and standard error from one ls command into the same file,

[Type ls /usr /bin/usr > ls-output.txt]

use the numeral file descriptors for both standard error and standard output with the output redirection operator.

[Continue to type 2>&1]

In this command, ls is instructed to output a list of the contents of two directories, /usr, and /bin/usr.

[Highlight /usr /bin/usr in the command]

Directory /usr exists,

[Highlight /usr in the command]

and ls should output a list of its contents to the file ls-output.txt.

[Highlight > ls-output.txt in the command]

On the other hand, directory /bin/usr does not exist,

[Highlight /bin/usr in the command]

and ls should output an error message, to the same file, ls-output.txt.

[Highlight > ls-output.txt 2>&1 in the command]

[Press ENTER]

Let's examine the file ls-output.txt with less.

[Type less ls-output.txt ENTER]

The file ls-output.txt contains the error message from ls /bin/usr, 

[Highlight the error message]

and the output from ls /usr.

[Highlight the output listing]

[Press q to exit less]

When redirecting both standard output and standard error to the same file, the order of redirection is important. First, redirect the output to a file,

[Highlight > ls-output.txt in the previous command]

then, using the file descriptors of standard error and standard output, specify that standard error

[Highlight 2 in the previous command]

should be redirected to standard output.

[Highlight >&1 in the command]

In newer versions of bash, we can also use the operator & left angle bracket to redirect both standard output and standard error of a command to a single file.

[Type ls /usr /bin/usr &> ls-output-new.txt]
[Highlight &>]
[Press ENTER]

Let's examine the file ls-output-new.txt with less.

[Type less ls-output-new.txt ENTER]

The file ls-output-new.txt contains the error message from ls /usr and the output of ls /usr.

[Press q to exit less]

We can also use the double left angled brackets redirection operator to append standard output and standard error of a command to a single file.

[Type ls /usr /bin/usr &>> ls-output-new.txt]
[Highlight &>>]
[Press ENTER]

Let's examine the file ls-output-new.txt with less.

[Type less ls-output-new.txt ENTER]

The file ls-output-new.txt has been appended with the error message from ls /usr and the output of ls /usr.

[Press q to exit less]