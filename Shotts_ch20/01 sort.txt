[Title Screen: Command Line Basics: sort]

Let's take a look at command line basics: sort.

Sort is capable of sorting contents from standard input,

or from one or more files specified on the command line,

and sending the sorted results to standard output.

If sort is given multiple files, it will *merge* the contents of all the files into a single sorted whole.

Let's try some options available for sort.

First, generate a text file.

[Type cat > foo.txt ENTER]
[Type 24891 ENTER 7 ENTER 60 ENTER 123 ENTER Ctrl+D]

We have created a file called foo.txt, with four lines of text.

[Type less foo.txt ENTER]
[Press q to exit less]

Now let's use sort without any options.

[Type sort foo.txt ENTER]

See that sort has sorted the lines in foo.txt,

and that the numbers are sorted alphabetically, not by numeric values, so that 24891 comes before 60 and 7.

To sort numbers by numeric values, use the -n option on sort.

[Type sort -n foo.txt ENTER]

See that now sort has sorted the numbers by value.

By default, the output of sort is in ascending order.

To sort in descending order, use the -r option.

[Type sort -nr foo.txt ENTER]

This command has sorted the numbers in foo.txt by decreasing value.

By default, sort processes its input by entire lines, starting from the first character.

But we may also wish to sort data based on a *field*, or part of a line.

To specify a field to use as the sort key, use the -k option.

This is very handy when sorting tabular data.

For example, if we have a file listing generated by ls,

[Type ls -l /usr/bin | head ENTER]

and we want to sort the listing by decreasing file size,

sort can be specified to use the 'file size' field as the sort key.

In this listing, fields are separated or delimited by spaces.

The 'file size' field is the fifth field from the left.

[Highlight the file size field]

[Type ls -l /usr/bin | sort -nr -k 5 | head]

The number five following -k indicates that the sort key is the fifth field.

[Highlight -k 5 in the command]
[Press ENTER]

And we get a listing of files by decreasing file size.

Multiple -k options can be specified for multiple sort keys.

For example, if we wish to sort the file listing first by owner name, then by file name.

We would use two -k options, one for field number three, and one for field number nine.

Tabular data may separate fields using characters other than the space or tab.

For example, the /etc/passwd file,

[Type head /etc/passwd ENTER]

delimits fields with colons.

If we want to sort this file, sort needs to know that fields are separated with a colon.

We can use the -t option.

[Type sort -t ':' -k 7 /etc/passwd | head]

This command will sort the passwd file on the seventh field, which specifies each user's default shell.